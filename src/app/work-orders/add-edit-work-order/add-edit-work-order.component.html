<div class="wo-container">
    <p-steps
        [model]="steps"
        [readonly]="true"
        [activeIndex]="activeStepIndex"
        (activeIndexChange)="activeIndexChanged($event)"
    ></p-steps>
    <span [ngSwitch]="creatingWorkOrder">
        <ng-container *ngSwitchCase="true">
            <div class="wo-steps" [ngSwitch]="activeStepIndex">
                <app-details-step
                    *ngSwitchCase="'0'"
                    [workOrder]="_workOrder"
                ></app-details-step>
                <app-estimate-step
                    *ngSwitchCase="'1'"
                    [workOrder]="_workOrder"
                ></app-estimate-step>
                <app-summary-step
                    *ngSwitchCase="'2'"
                    [workOrder]="_workOrder"
                    [creatingWorkOrder]="creatingWorkOrder"
                ></app-summary-step>
            </div>
        </ng-container>
        <ng-container *ngSwitchCase="false">
            <div class="wo-steps" [ngSwitch]="activeStepIndex">
                <app-details-step
                    *ngSwitchCase="'0'"
                    [workOrder]="_workOrder"
                ></app-details-step>
                <app-estimate-step
                    *ngSwitchCase="'1'"
                    [workOrder]="_workOrder"
                ></app-estimate-step>
                <app-action-step
                    *ngSwitchCase="'2'"
                    [workOrder]="_workOrder"
                ></app-action-step>
                <app-summary-step
                    *ngSwitchCase="'3'"
                    [workOrder]="_workOrder"
                    [creatingWorkOrder]="creatingWorkOrder"
                ></app-summary-step>
            </div>
        </ng-container>
    </span>
    <div class="wo-footer">
        <button
            pButton
            pRipple
            label="Previous"
            icon="pi pi-angle-left"
            class="p-button-secondary"
            [disabled]="isPreviousBtnDisabled"
            (click)="previousStep()"
        ></button>
        <button
            pButton
            pRipple
            label="{{ isLastStep ? 'Save' : 'Next' }}"
            icon="pi {{ isLastStep ? '' : 'pi-angle-right' }}"
            [ngClass]="{
                'p-button-primary': !isLastStep,
                'p-button-success': isLastStep
            }"
            [disabled]="isNextBtnDisabled"
            (click)="nextStep()"
        ></button>
    </div>
</div>
